<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<html>
<head>
    <title>主页</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="utf8-jsp/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="utf8-jsp/ueditor.all.min.js"></script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="utf8-jsp/lang/zh-cn/zh-cn.js"></script>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <link href="css/community.css" rel="stylesheet" >
    <script src="script/ueditor.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
<div th:insert="~{header :: copy}">
</div>
<div class="container-fluid left-frame">
    <div class="row">
        <div class="col-lg-9 .col-md-12 .col-sm-12 .col-xs-12">
            <h3><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>发起</h3>
            <form action="/publish" method="post">
                <div class="form-group">
                    <label for="title">问题标题(简明扼要)</label>
                    <input type="text" class="form-control" id="title" placeholder="问题标题" name="title" th:value="${title}">
                </div>
                <div class="form-group">
                    <label for="title">问题补充</label>
                    <textarea rows="12" id="ueditor"  name="content">

                    </textarea>
                </div>
                <div class="form-group">
                    <input class="form-control" name="info" type="hidden" id="info" th:value="${info}">
                </div>
                <div></div>
                <div class="form-group">
                    <label for="tag">添加标签</label>
                    <input type="text" class="form-control" id="tag" placeholder="标签" name="tag" th:value="${tag}">
                </div>
                <button type="submit" class="btn btn-success btn-publish" onClick="uptext();">发布</button>
                <span th:text="${reslut}"></span>
            </form>
        </div>
        <div class="col-lg-3 .col-md-12 .col-sm-12 .col-xs-12" type="hidden">
        Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。<br/>
        Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。<br/>
        Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。
        Webpack 是当下最热门的前端资源模块化管理和打包工具。它可以将许多松散的模块按照依赖和规则打包成符合生产环境部署的前端资源。
        </div>
    </div>
</div>
<script type="text/javascript">
    var ue = UE.getEditor('ueditor',{initialFrameHeight:300
        //,autoHeightEnabled: false
        });
    var htmlStr = $("#info").val();

    ue.ready(function() {

        ue.setContent(htmlStr, false);

    });


</script>
<script type="text/javascript">
    UE.Editor.prototype._bkGetActionUrl = UE.Editor.prototype.getActionUrl;
    UE.Editor.prototype.getActionUrl = function(action) {
        if (action == 'uploadimage' || action == 'uploadscrawl' || action == 'uploadimage') {
            return 'http://localhost:8080/imgUpload';
            //'http://localhost:8080/imgUpload';为方法imgUpload的访问地址
        } else {
            return this._bkGetActionUrl.call(this, action);
        }
    }
</script>

</body>
</html>